<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Reg Function • procs</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="The Reg Function">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">procs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/procs.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/procs-freq.html">The Frequency Function</a>
    </li>
    <li>
      <a href="../articles/procs-means.html">The Means Function</a>
    </li>
    <li>
      <a href="../articles/procs-ttest.html">The TTest Function</a>
    </li>
    <li>
      <a href="../articles/procs-reg.html">The Reg Function</a>
    </li>
    <li>
      <a href="../articles/procs-dm.html">Data Manipulation Functions</a>
    </li>
    <li>
      <a href="../articles/procs-example1.html">Example 1: Demographics</a>
    </li>
    <li>
      <a href="../articles/procs-example2.html">Example 2: Adverse Events</a>
    </li>
    <li>
      <a href="../articles/procs-example3.html">Example 3: Disposition</a>
    </li>
    <li>
      <a href="../articles/procs-faq.html">Frequently Asked Questions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././articles/procs-faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/procs/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The Reg Function</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dbosak01/procs/blob/HEAD/vignettes/procs-reg.Rmd" class="external-link"><code>vignettes/procs-reg.Rmd</code></a></small>
      <div class="hidden name"><code>procs-reg.Rmd</code></div>

    </div>

    
    
<p>The <code><a href="../reference/proc_reg.html">proc_reg()</a></code> function replicates a SAS® PROC REG
procedure. It is used to perform a regression analysis. The function is
both interactive and returns datasets.</p>
<div class="section level2">
<h2 id="create-sample-data">Create Sample Data<a class="anchor" aria-label="anchor" href="#create-sample-data"></a>
</h2>
<p>Below is some sample data. This sample data shows Sex, Age, Height,
and Weight for a group of students. In this example, we’ll examine the
relationship between Weight and Height:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create sample data</span></span>
<span><span class="va">cls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span>header <span class="op">=</span> <span class="cn">TRUE</span>, text <span class="op">=</span> <span class="st">'</span></span>
<span><span class="st">  Name   Sex Age Height Weight </span></span>
<span><span class="st">  Alfred   M  14   69.0  112.5</span></span>
<span><span class="st">  Alice    F  13   56.5   84.0 </span></span>
<span><span class="st">  Barbara  F  13   65.3   98.0 </span></span>
<span><span class="st">  Carol    F  14   62.8  102.5 </span></span>
<span><span class="st">  Henry    M  14   63.5  102.5 </span></span>
<span><span class="st">  James    M  12   57.3   83.0 </span></span>
<span><span class="st">  Jane     F  12   59.8   84.5 </span></span>
<span><span class="st">  Janet    F  15   62.5  112.5</span></span>
<span><span class="st">  Jeffrey  M  13   62.5   84.0 </span></span>
<span><span class="st">  John     M  12   59.0   99.5 </span></span>
<span><span class="st">  Joyce    F  11   51.3   50.5 </span></span>
<span><span class="st">  Judy     F  14   64.3   90.0</span></span>
<span><span class="st">  Louise   F  12   56.3   77.0</span></span>
<span><span class="st">  Mary     F  15   66.5  112.0 </span></span>
<span><span class="st">  Philip   M  16   72.0  150.0</span></span>
<span><span class="st">  Robert   M  12   64.8  128.0</span></span>
<span><span class="st">  Ronald   M  15   67.0  133.0</span></span>
<span><span class="st">  Thomas   M  11   57.5   85.0</span></span>
<span><span class="st">  William  M  15   66.5  112.0'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-regression">Basic Regression<a class="anchor" aria-label="anchor" href="#basic-regression"></a>
</h2>
<p>If no options are specified, the <code><a href="../reference/proc_reg.html">proc_reg()</a></code> function
will produce an interactive report in the RStudio viewer. The report
contains four tables:</p>
<ul>
<li>
<strong>NObs</strong>: The number of used and unused observations in
the input dataset. If there are missing values in any of the dependent
or independent variables, these observations will be removed from the
input dataset, and a count of observations with missing values will also
be shown in this table.</li>
<li>
<strong>ANOVA</strong>: A table showing the Analysis of Variance for
the model, the Error, and a Corrected Total. This table includes the
Degrees of Freedom, Sum of Squares, Mean Square, and the F and P values
for the model.</li>
<li>
<strong>FitStatistics</strong>: The Fitness table shows measures
related to fitness, such as the Root MSE, R-Square value, and Adjusted
R-Square.</li>
<li>
<strong>ParameterEstimates</strong>: This table includes parameter
estimates for the y intercept and any independent variables. These
values can be used to construct the model. This table also contains the
t and p-values necessary to determine the significance of the
coefficient.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Turn off printing for CRAN checks</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"procs.print"</span> <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Basic operation</span></span>
<span><span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span><span class="op">)</span></span></code></pre></div>
<p><img src="../man/images/reg1.png" alt="Basic regression output"></p>
</div>
<div class="section level2">
<h2 id="statistics-options">Statistics Options<a class="anchor" aria-label="anchor" href="#statistics-options"></a>
</h2>
<p>The <code><a href="../reference/proc_reg.html">proc_reg()</a></code> function has two ways to pass optional
statistics: <code>stats</code> and <code>options</code>.</p>
<p>The <code>stats</code> parameter contains options that are normally
passed on the “model” statement in SAS® PROC REG. Here is a table of
some of the available <code>stats</code> keywords:</p>
<table class="table">
<tr>
<th>
Keyword
</th>
<th>
Description
</th>
</tr>
<tr>
<td>
adjrsq
</td>
<td>
Adds adjusted r-square value to the output dataset.
</td>
</tr>
<tr>
<td>
clb
</td>
<td>
Requests confidence limits be added to the interactive report.
</td>
</tr>
<tr>
<td>
edf
</td>
<td>
Includes the number of regressors, the error degress of freedom, and the
model r-square to the output dataset.
</td>
</tr>
<tr>
<td>
hcc
</td>
<td>
The “hcc” statistics keyword requests that heteroscedasticity-consistent
standard errors of the parameter estimates be sent to the interactive
report.
</td>
</tr>
<tr>
<td>
mse
</td>
<td>
Computes the mean squared error for each model and adds to the output
dataset.
</td>
</tr>
<tr>
<td>
p
</td>
<td>
Computes predicted and residual values and sends to a separate table on
the interactive report.
</td>
</tr>
<tr>
<td>
press
</td>
<td>
Includes the predicted sum of squares statistic in the output dataset.
</td>
</tr>
<tr>
<td>
seb
</td>
<td>
Outputs the standard errors of the parameter estimates to the output
dataset.
</td>
</tr>
<tr>
<td>
spec
</td>
<td>
Adds the “White’s test” table to the interactive output.
</td>
</tr>
<tr>
<td>
sse
</td>
<td>
Adds the error sum of squares to the output dataset.
</td>
</tr>
</table>
<p>Here is a table of some of the <code>options</code> keywords:</p>
<table class="table">
<tr>
<th>
Keyword
</th>
<th>
Description
</th>
</tr>
<tr>
<td>
alpha
</td>
<td>
The “alpha =” option will set the alpha value for confidence limit
statistics.
</td>
</tr>
<tr>
<td>
noprint
</td>
<td>
Turns off the interactive report that is sent to the viewer.
</td>
</tr>
<tr>
<td>
outseb
</td>
<td>
The “outseb” option is used to request the standard errors be sent to
the output dataset.
</td>
</tr>
<tr>
<td>
tableout
</td>
<td>
The “tableout” option is used to send standard errors, t-statistics,
p-values, and confidence limits to the output dataset.
</td>
</tr>
</table>
</div>
<div class="section level2">
<h2 id="output-dataset-options">Output Dataset Options<a class="anchor" aria-label="anchor" href="#output-dataset-options"></a>
</h2>
<p>In addition to the interactive report shown above, the
<code><a href="../reference/proc_reg.html">proc_reg()</a></code> function produces output datasets. You can save
these datasets in a variable and use it for additional analysis or
reporting. Here is how to save the default output dataset:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Output dataset </span></span>
<span><span class="va">res1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">res1</span></span>
<span><span class="co">#    MODEL  TYPE DEPVAR     RMSE Intercept  Height Weight</span></span>
<span><span class="co"># 1 MODEL1 PARMS Weight 11.22625 -143.0269 3.89903     -1</span></span></code></pre></div>
<p>The default output dataset contains parameter estimates and root
means squared error. If you want the standard errors, you can use the
“outseb” option.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Output dataset using "outseb" option</span></span>
<span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>, options <span class="op">=</span> <span class="va">outseb</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">res2</span></span>
<span><span class="co">#    MODEL  TYPE DEPVAR     RMSE  Intercept    Height Weight</span></span>
<span><span class="co"># 1 MODEL1 PARMS Weight 11.22625 -143.02692 3.8990303     -1</span></span>
<span><span class="co"># 2 MODEL1   SEB Weight 11.22625   32.27459 0.5160939     -1</span></span></code></pre></div>
<p>You can add more statistics to this dataset using various options.
For example, you can add the “PRESS”, error degrees of freedom, and
r-squared statistic in the following way:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Output dataset using "press" and "edf" options</span></span>
<span><span class="va">res3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>, options <span class="op">=</span> <span class="fu"><a href="https://common.r-sassy.org/reference/v.html" class="external-link">v</a></span><span class="op">(</span><span class="va">press</span>, <span class="va">edf</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">res3</span></span>
<span><span class="co">#    MODEL  TYPE DEPVAR     RMSE    PRESS Intercept  Height Weight IN P EDF       RSQ</span></span>
<span><span class="co"># 1 MODEL1 PARMS Weight 11.22625 2651.352 -143.0269 3.89903     -1  1 2  17 0.7705068</span></span></code></pre></div>
<p>The “tableout” option sends standard error, confidence limits, t, and
p-values to the output dataset:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Output dataset using "tableout" option</span></span>
<span><span class="va">res3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>, options <span class="op">=</span> <span class="va">tableout</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">res3</span></span>
<span><span class="co">#    MODEL   TYPE DEPVAR     RMSE     Intercept       Height Weight</span></span>
<span><span class="co"># 1 MODEL1  PARMS Weight 11.22625 -1.430269e+02 3.899030e+00     -1</span></span>
<span><span class="co"># 2 MODEL1 STDERR Weight 11.22625  3.227459e+01 5.160939e-01     NA</span></span>
<span><span class="co"># 3 MODEL1      T Weight 11.22625 -4.431564e+00 7.554885e+00     NA</span></span>
<span><span class="co"># 4 MODEL1 PVALUE Weight 11.22625  3.655789e-04 7.886816e-07     NA</span></span>
<span><span class="co"># 5 MODEL1   L95B Weight 11.22625 -2.111204e+02 2.810167e+00     NA</span></span>
<span><span class="co"># 6 MODEL1   U95B Weight 11.22625 -7.493348e+01 4.987893e+00     NA</span></span></code></pre></div>
<p>If you want to return the statistics from the interactive report as
data, you can do that using <code>output = "report"</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Output dataset using "report" output</span></span>
<span><span class="va">res4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>, output <span class="op">=</span> <span class="st">"report"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">res4</span></span>
<span><span class="co"># $Observations</span></span>
<span><span class="co">#                          stub NOBS</span></span>
<span><span class="co"># 1 Number of Observations Read   19</span></span>
<span><span class="co"># 2 Number of Observations Used   19</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># $ANOVA</span></span>
<span><span class="co">#              stub DF    SUMSQ    MEANSQ     FVAL        PROBF</span></span>
<span><span class="co"># 1           Model  1 7193.249 7193.2491 57.07628 7.886816e-07</span></span>
<span><span class="co"># 2           Error 17 2142.488  126.0287       NA           NA</span></span>
<span><span class="co"># 3 Corrected Total 18 9335.737        NA       NA           NA</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># $Fitness</span></span>
<span><span class="co">#       RMSE  DEPMEAN COEFVAR       RSQ    ADJRSQ</span></span>
<span><span class="co"># 1 11.22625 100.0263 11.2233 0.7705068 0.7570072</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># $Coefficients</span></span>
<span><span class="co">#        stub DF        EST     STDERR         T        PROBT</span></span>
<span><span class="co"># 1 Intercept  1 -143.02692 32.2745913 -4.431564 3.655789e-04</span></span>
<span><span class="co"># 2    Height  1    3.89903  0.5160939  7.554885 7.886816e-07</span></span></code></pre></div>
<p>This list of data frames may in turn be passed into
<code><a href="../reference/proc_print.html">proc_print()</a></code> to write the report to a file.</p>
</div>
<div class="section level2">
<h2 id="interactive-report-options">Interactive Report Options<a class="anchor" aria-label="anchor" href="#interactive-report-options"></a>
</h2>
<p>Some of the keyword options affect the interactive report. Let’s look
at a few.</p>
<p>The “clb” keyword on the <code>stats</code> parameter appends the
confidence limits to the parameter estimates table:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View report using "clb" option</span></span>
<span><span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>, stats <span class="op">=</span> <span class="va">clb</span><span class="op">)</span></span></code></pre></div>
<p><img src="../man/images/reg2.png" alt="Proc reg interactive options"></p>
<p>The “hcc” option sends heteroscedasticity consistent standard error,
t, and p-values to the estimates table:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View report using "hcc" option</span></span>
<span><span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>, stats <span class="op">=</span> <span class="va">hcc</span><span class="op">)</span></span></code></pre></div>
<p><img src="../man/images/reg3.png" alt="Proc reg hcc output"></p>
<p>Finally, the “p” keyword will add 2 more tables to the interactive
report. The first is a table of predicted and residual values for each
term of the dependent variable. The second is a summary table for
residuals:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View report using "p" option</span></span>
<span><span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>, stats <span class="op">=</span> <span class="va">p</span><span class="op">)</span></span></code></pre></div>
<p><img src="../man/images/reg4.png" alt="Proc reg p option output"></p>
</div>
<div class="section level2">
<h2 id="by-groups">By Groups<a class="anchor" aria-label="anchor" href="#by-groups"></a>
</h2>
<p>If you want to separate your analysis into by groups, use the
<code>by</code> parameter. For the interactive report, the function will
create a separate set of tables for each value of the by group. For the
output dataset, the by value will be shown in a column called “BY”. Here
is an example:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># By grouping</span></span>
<span><span class="va">res5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>, by <span class="op">=</span> <span class="va">Sex</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">res5</span></span>
<span><span class="co">#   BY  MODEL  TYPE DEPVAR      RMSE Intercept   Height Weight</span></span>
<span><span class="co"># 1  F MODEL1 PARMS Weight  9.586849 -117.3698 3.424405     -1</span></span>
<span><span class="co"># 2  M MODEL1 PARMS Weight 12.695426 -141.1010 3.912549     -1</span></span></code></pre></div>
<p>And here is the interactive report for the by group:</p>
<p><img src="../man/images/reg5.png" alt="Proc reg by parameter output"></p>
<p>For multiple by groups, pass the variable names as a quoted vector
using the <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> function, or as an unquoted vector using the
<code><a href="https://common.r-sassy.org/reference/v.html" class="external-link">v()</a></code> function.</p>
</div>
<div class="section level2">
<h2 id="multiple-models">Multiple Models<a class="anchor" aria-label="anchor" href="#multiple-models"></a>
</h2>
<p>An important feature of the <code><a href="../reference/proc_reg.html">proc_reg()</a></code> function is the
ability to specify multiple model statements. This feature gives you the
capability to easily run and compare different models for the best fit.
To pass multiple models, combine the models into a <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>.
For the interactive report, multiple models will produce a separate set
of report tables for each model. For the output dataset, the models will
be distinguished by the model name on the “MODEL” column.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Multiple Models</span></span>
<span><span class="va">res6</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>,</span>
<span>                           <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span> <span class="op">+</span> <span class="va">Age</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">res6</span></span>
<span><span class="co">#    MODEL  TYPE DEPVAR     RMSE Intercept   Height Weight      Age</span></span>
<span><span class="co"># 1 MODEL1 PARMS Weight 11.22625 -143.0269 3.899030     -1       NA</span></span>
<span><span class="co"># 2 MODEL2 PARMS Weight 11.51114 -141.2238 3.597027     -1 1.278393</span></span></code></pre></div>
<p>Here is the interactive display for the two models:</p>
<p><img src="../man/images/reg6.png" alt="Proc reg multiple models"></p>
</div>
<div class="section level2">
<h2 id="data-shaping">Data Shaping<a class="anchor" aria-label="anchor" href="#data-shaping"></a>
</h2>
<p>The <code>proc_reg</code> function also offers options for data
shaping. The shaping options can reduce the number of transformations
needed for follow-on analysis.</p>
<p>There are three shaping options: “wide”, “long”, and “stacked”. The
“wide” option is the default, and places the statistics in columns and
variables in rows. The “long” option places statistics in rows and
variables in columns. The “stacked” option puts both statistics and
variables in rows.</p>
<p>The following example illustrates the differences between these data
shaping options:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Shape wide</span></span>
<span><span class="va">res7</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>, </span>
<span>                 option <span class="op">=</span> <span class="va">outseb</span>, output <span class="op">=</span> <span class="va">wide</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Wide results</span></span>
<span><span class="va">res7</span></span>
<span><span class="co">#    MODEL  TYPE DEPVAR     RMSE  Intercept    Height Weight</span></span>
<span><span class="co"># 1 MODEL1 PARMS Weight 11.22625 -143.02692 3.8990303     -1</span></span>
<span><span class="co"># 2 MODEL1   SEB Weight 11.22625   32.27459 0.5160939     -1</span></span>
<span></span>
<span><span class="co"># Shape long</span></span>
<span><span class="va">res8</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>, </span>
<span>                 option <span class="op">=</span> <span class="va">outseb</span>, output <span class="op">=</span> <span class="va">long</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Long results</span></span>
<span><span class="va">res8</span></span>
<span><span class="co">#    MODEL DEPVAR      STAT      PARMS        SEB</span></span>
<span><span class="co"># 1 MODEL1 Weight      RMSE   11.22625 11.2262500</span></span>
<span><span class="co"># 2 MODEL1 Weight Intercept -143.02692 32.2745913</span></span>
<span><span class="co"># 3 MODEL1 Weight    Height    3.89903  0.5160939</span></span>
<span><span class="co"># 4 MODEL1 Weight    Weight   -1.00000 -1.0000000</span></span>
<span></span>
<span><span class="co"># Shape stacked</span></span>
<span><span class="va">res9</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>, </span>
<span>                 options <span class="op">=</span> <span class="va">outseb</span>, output <span class="op">=</span> <span class="va">stacked</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Stacked results</span></span>
<span><span class="va">res9</span></span>
<span><span class="co">#    MODEL DEPVAR  TYPE      STAT       VALUES</span></span>
<span><span class="co"># 1 MODEL1 Weight PARMS      RMSE   11.2262500</span></span>
<span><span class="co"># 2 MODEL1 Weight PARMS Intercept -143.0269184</span></span>
<span><span class="co"># 3 MODEL1 Weight PARMS    Height    3.8990303</span></span>
<span><span class="co"># 4 MODEL1 Weight PARMS    Weight   -1.0000000</span></span>
<span><span class="co"># 5 MODEL1 Weight   SEB      RMSE   11.2262500</span></span>
<span><span class="co"># 6 MODEL1 Weight   SEB Intercept   32.2745913</span></span>
<span><span class="co"># 7 MODEL1 Weight   SEB    Height    0.5160939</span></span>
<span><span class="co"># 8 MODEL1 Weight   SEB    Weight   -1.0000000</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="regression-plots">Regression Plots<a class="anchor" aria-label="anchor" href="#regression-plots"></a>
</h2>
<p>Regression plots can help you understand the quality of your model,
and help decide between possible models. There are several ways to
request a regression plot:</p>
<ul>
<li>
<strong>plots = TRUE</strong>: The simplest way to request plots is
to simply pass a TRUE value to the plots parameter on
<code>prog_reg()</code>. The TRUE value will return a default set of
plots.</li>
<li>
<strong>plots = “all”</strong>: The “all” keyword will return all
available plots for the requested model(s).</li>
<li>
<strong>plots = [vector of strings]</strong>: If you know which
plots you want, you may request them as a vector of plot names. These
names are normally quoted, but may also be passed unquoted using the
<code><a href="https://common.r-sassy.org/reference/v.html" class="external-link">v()</a></code> function.</li>
<li>
<strong>plots = regplot([with parameters])</strong>: For the most
control, use the <code><a href="../reference/regplot.html">regplot()</a></code> function and pass the desired
parameters. Parameters include the desire chart types, whether to
“unpack” any summary panels, and whether to show labels for outlier
values. See the <code><a href="../reference/regplot.html">regplot()</a></code> function for full documentation
on the options available.</li>
</ul>
<p>Here is a simple example showing the default plots:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Shape wide</span></span>
<span><span class="va">res10</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proc_reg.html">proc_reg</a></span><span class="op">(</span><span class="va">cls</span>, <span class="va">Weight</span> <span class="op">~</span> <span class="va">Height</span>, </span>
<span>                 plots <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="../man/images/reg7a.png" alt="Proc reg plots 1"><img src="../man/images/reg7b.png" alt="Proc reg plots 2"><img src="../man/images/reg7c.png" alt="Proc reg plots 3"><img src="../man/images/reg7d.png" alt="Proc reg plots 4"></p>
<p>Next: <a href="procs-dm.html">Data Manipulation</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by David Bosak, Diyu Yang.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
